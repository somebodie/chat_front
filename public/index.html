<!DOCTYPE html>
<html ng-app='ChattyBlog'>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Chatty Blog</title>
    <!-- Angular Script -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
    <!-- UI-Router -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.min.js"></script>
    <!-- Router -->
    <script src='js/router.js'></script>
    <!-- Factories -->
    <script src="/js/factories/auth_interceptor.js"></script>
    <script src="/js/factories/auth_token_factory.js"></script>
    <!-- Controllers -->
    <script src='js/controllers/HomeController.js'></script>
    <script src='js/controllers/BlogController.js'></script>
    <script src='js/controllers/CommentController.js'></script>
    <!-- App -->
    <script src="js/app.js"></script>
    <!-- CSS -->
    <link rel="stylesheet" href="/css/master.css">
    <!-- Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
</head>

<body ng-controller='HomeController as home'>
    <header>
        <nav>
            <button type="menu" name="menu">Menu
            <menu ng-controller='BlogController as blog'>
                <div class="adminsLinks" ng-show='home.control'>
                    <a ui-sref="list">Admin's List</a>
                </div>
                <label>Search: <input ng-model="searchText"></label>
                <!-- TODO: SEARCH BAR: https://docs.angularjs.org/api/ng/filter/filter -->
                <div id="searchTextResults">
                    <div ng-repeat="article in blog.blogs | filter:searchText">
                      <p>Title {{article.title}}</p>
                      <p>Author {{article.author}}</p>
                      <!-- FIXME: get blog on selection -->
                    </div>
                </div>
                <menuitem type="command" label="Save">
            </menu>
            </button>
        </nav>
    </header>
    <main>
        <h1>PARTIAL BELOW</h1>
        <ui-view></ui-view>
        <h1>PARITAL ABOVE</h1>
        <h1>SIGN UP</h1>
    </main>
    <footer>
        <div class="signup">
            <form ng-submit="home.signup(userPass)">
                <input type="text" ng-model="userPass.name" placeholder="name">
                <input type="text" ng-model="userPass.user_name" placeholder="user name">
                <input type="email" ng-model="userPass.email" placeholder="email">
                <input type="password" ng-model="userPass.password" placeholder="password">
                <input type="checkbox" ng-model='userPass.admin' ng-hide='admin'>
                <button type="submit">login</button>
            </form>
        </div>

        <h1>LOG IN</h1>
        <div class="login">
            <form ng-submit="home.login(userPass)">
                <input type="text" ng-model="userPass.email" placeholder="email">
                <input type="password" ng-model="userPass.password" placeholder="password">
                <input type="submit" value="login">
            </form>
        </div>

        <h1>LOG OUT</h1>
        <button type="button" name="logout" ng-click='home.logout()'>Log Off!</button>
    </footer>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</body>

</html>
